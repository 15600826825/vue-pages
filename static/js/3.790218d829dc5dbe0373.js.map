{"version":3,"sources":["webpack:///static/js/3.790218d829dc5dbe0373.js","webpack:///./src/pages/supplier/stockManage.vue","webpack:///stockManage.vue","webpack:///./src/pages/supplier/stockManage.vue?c758","webpack:///./src/pages/supplier/stockManage.vue?948b","webpack:///./src/pages/supplier/stockManage.vue?a266"],"names":["webpackJsonp","433","module","exports","__webpack_require__","Component","441","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__assets_js_date_js__","demoEvents","title","start","data","fcEvents","dialogFormVisible","labelPosition","skuForm","date","price","stock","type","stockNum","selectedEvent","methods","dayClick","jsEvent","this","formatDate","eventClick","event","split","submitForm","formName","_this","$refs","validate","valid","console","log","saveSku","resetFields","resetForm","$message","message","formObj","time","Date","i","back","history","go","filters","446","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","455","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","plain","on","click","_v","events","lang","model","callback","$$v","expression","ref","label-position","label-width","label","auto-complete","disabled","placeholder","_n","prop","rules","required","slot","$event","staticRenderFns","464","content","locals"],"mappings":"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","file":"static/js/3.790218d829dc5dbe0373.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 433:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(464)\n\nvar Component = __webpack_require__(51)(\n  /* script */\n  __webpack_require__(441),\n  /* template */\n  __webpack_require__(455),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 441:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__assets_js_date_js__ = __webpack_require__(104);\n\n\n\nvar demoEvents = [{\n  title: '库存：100，价格：5888',\n  start: '2017-04-22'\n}, {\n  title: '库存：99，价格：5999',\n  start: '2017-04-23'\n}, {\n  title: '库存：99，价格：5999',\n  start: '2017-04-24'\n}, {\n  title: '库存：99，价格：5999',\n  start: '2017-04-25'\n}, {\n  title: '库存：99，价格：5999',\n  start: '2017-04-26'\n}, {\n  title: '库存：99，价格：5999',\n  start: '2017-04-27'\n}, {\n  title: '库存：99，价格：5999',\n  start: '2017-04-28'\n}];\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      fcEvents: demoEvents,\n      dialogFormVisible: false,\n      labelPosition: 'right',\n      skuForm: {\n        date: '',\n        price: '',\n        stock: '',\n        type: '',\n        stockNum: ''\n      },\n      selectedEvent: {}\n    };\n  },\n\n  methods: {\n    dayClick: function dayClick(date, jsEvent) {\n      this.skuForm.date = this.formatDate(date);\n      this.dialogFormVisible = true;\n    },\n    eventClick: function eventClick(event, jsEvent) {\n      this.selectedEvent = event;\n      var stock = event.title.split('，')[0].split('：')[1] * 1;\n      var price = event.title.split('，')[1].split('：')[1] * 1;\n      this.skuForm.date = event.start;\n      this.skuForm.price = price;\n      this.skuForm.stock = stock;\n      this.dialogFormVisible = true;\n    },\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          console.log(_this.skuForm);\n          _this.saveSku(_this.skuForm);\n          _this.dialogFormVisible = false;\n          _this.$refs[formName].resetFields();\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.dialogFormVisible = false;\n      this.$refs[formName].resetFields();\n      this.$message({\n        type: 'info',\n        message: '取消操作'\n      });\n    },\n    saveSku: function saveSku(formObj) {\n      if (formObj.type === '出库') {\n        if (this.skuForm.stock - formObj.stockNum >= 0) {\n          this.skuForm.stock = this.skuForm.stock - formObj.stockNum;\n          this.selectedEvent.title = '库存：' + this.skuForm.stock + '，价格：5999';\n        } else {\n          this.$message({\n            type: 'warning',\n            message: '出库数量不能超过原有库存！'\n          });\n          return false;\n        }\n      } else if (formObj.type === '入库') {\n        this.skuForm.stock = this.skuForm.stock + formObj.stockNum;\n        this.selectedEvent.title = '库存：' + this.skuForm.stock + '，价格：5999';\n      } else {\n        return false;\n      }\n      this.$message({\n        type: 'success',\n        message: '设置成功！'\n      });\n    },\n    formatDate: function formatDate(time) {\n      var date = new Date(time);\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__assets_js_date_js__[\"a\" /* formatDate */])(date, 'yyyy-MM-dd');\n    },\n    back: function back() {\n      history.go(-1);\n    }\n  },\n  filters: {\n    formatDate: function formatDate(time) {\n      var date = new Date(time);\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__assets_js_date_js__[\"a\" /* formatDate */])(date, 'yyyy-MM-dd');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 446:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(426)();\n// imports\n\n\n// module\nexports.push([module.i, \".comp-full-calendar{max-width:100%}.clearfix{margin-bottom:15px}.full-calendar-header .header-center span{font-family:sans-serif;font-size:20px;font-weight:700}.full-calendar-body .weeks{height:30px;line-height:30px}\", \"\", {\"version\":3,\"sources\":[\"D:/vue/vue-demo/src/pages/supplier/stockManage.vue\"],\"names\":[],\"mappings\":\"AACA,oBACE,cAAgB,CACjB,AACD,UACE,kBAAmB,CACpB,AACD,0CACE,uBAAwB,AACxB,eAAgB,AAChB,eAAiB,CAClB,AACD,2BACE,YAAa,AACb,gBAAiB,CAClB\",\"file\":\"stockManage.vue\",\"sourcesContent\":[\"\\n.comp-full-calendar {\\n  max-width: 100%;\\n}\\n.clearfix {\\n  margin-bottom: 15px\\n}\\n.full-calendar-header .header-center span{\\n  font-family: sans-serif;\\n  font-size: 20px;\\n  font-weight: bold\\n}\\n.full-calendar-body .weeks {\\n  height: 30px;\\n  line-height: 30px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 455:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"clearfix\"\n  }, [_c('el-button', {\n    staticClass: \"pull-right\",\n    attrs: {\n      \"plain\": true,\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.back\n    }\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('fullcalendar', {\n    attrs: {\n      \"events\": _vm.fcEvents,\n      \"lang\": \"zh\"\n    },\n    on: {\n      \"dayClick\": _vm.dayClick,\n      \"eventClick\": _vm.eventClick\n    }\n  }), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"设置库存\"\n    },\n    model: {\n      value: (_vm.dialogFormVisible),\n      callback: function($$v) {\n        _vm.dialogFormVisible = $$v\n      },\n      expression: \"dialogFormVisible\"\n    }\n  }, [_c('el-form', {\n    ref: \"skuForm\",\n    attrs: {\n      \"label-position\": _vm.labelPosition,\n      \"model\": _vm.skuForm,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"日期\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"disabled\": \"\"\n    },\n    model: {\n      value: (_vm.skuForm.date),\n      callback: function($$v) {\n        _vm.skuForm.date = $$v\n      },\n      expression: \"skuForm.date\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"价格\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"输入价格\",\n      \"disabled\": \"\"\n    },\n    model: {\n      value: (_vm.skuForm.price),\n      callback: function($$v) {\n        _vm.skuForm.price = _vm._n($$v)\n      },\n      expression: \"skuForm.price\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"原有库存\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"输入库存\",\n      \"disabled\": \"\"\n    },\n    model: {\n      value: (_vm.skuForm.stock),\n      callback: function($$v) {\n        _vm.skuForm.stock = _vm._n($$v)\n      },\n      expression: \"skuForm.stock\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"操作类型\",\n      \"prop\": \"type\",\n      \"rules\": [{\n        required: true,\n        message: '操作类型不能为空'\n      }]\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.skuForm.type),\n      callback: function($$v) {\n        _vm.skuForm.type = $$v\n      },\n      expression: \"skuForm.type\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"出库\"\n    }\n  }), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": \"入库\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"数量\",\n      \"prop\": \"stockNum\",\n      \"rules\": [{\n          required: true,\n          message: '数量不能为空'\n        },\n        {\n          type: 'number',\n          message: '数量必须为数字值'\n        }\n      ]\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"输入数量\"\n    },\n    model: {\n      value: (_vm.skuForm.stockNum),\n      callback: function($$v) {\n        _vm.skuForm.stockNum = _vm._n($$v)\n      },\n      expression: \"skuForm.stockNum\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('skuForm')\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('skuForm')\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 464:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(446);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(427)(\"b2e8e68c\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.790218d829dc5dbe0373.js","\n/* styles */\nrequire(\"!!../../../node_modules/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-3023b115\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./stockManage.vue\")\n\nvar Component = require(\"!../../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./stockManage.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3023b115\\\"}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./stockManage.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/supplier/stockManage.vue\n// module id = 433\n// module chunks = 3","<template>\r\n  <div>\r\n    <div class=\"clearfix\">\r\n      <el-button :plain=\"true\" type=\"info\" class=\"pull-right\" @click=\"back\">返回</el-button>\r\n    </div>\r\n  \t<fullcalendar :events=\"fcEvents\" lang=\"zh\" v-on:dayClick=\"dayClick\" v-on:eventClick=\"eventClick\"></fullcalendar>\r\n    <el-dialog title=\"设置库存\" v-model=\"dialogFormVisible\">\r\n      <el-form  :label-position=\"labelPosition\" :model=\"skuForm\" ref=\"skuForm\" label-width=\"100px\">\r\n        <el-form-item label=\"日期\">\r\n        <el-input auto-complete=\"off\" v-model=\"skuForm.date\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"价格\">\r\n          <el-input auto-complete=\"off\" v-model.number=\"skuForm.price\" placeholder=\"输入价格\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"原有库存\">\r\n          <el-input auto-complete=\"off\" v-model.number=\"skuForm.stock\" placeholder=\"输入库存\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"操作类型\"\r\n          prop=\"type\"\r\n          :rules=\"[\r\n            {required: true, message: '操作类型不能为空'}\r\n          ]\"\r\n        >\r\n          <el-radio-group v-model=\"skuForm.type\">\r\n            <el-radio label=\"出库\"></el-radio>\r\n            <el-radio label=\"入库\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item \r\n          label=\"数量\"\r\n          prop=\"stockNum\"\r\n          :rules=\"[\r\n            { required: true, message: '数量不能为空'},\r\n            { type: 'number', message: '数量必须为数字值'}\r\n          ]\"\r\n        >\r\n          <el-input auto-complete=\"off\" v-model.number=\"skuForm.stockNum\" placeholder=\"输入数量\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"resetForm('skuForm')\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm('skuForm')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { formatDate } from '@/assets/js/date.js'\r\nvar demoEvents = [{\r\n  title: '库存：100，价格：5888',\r\n  start: '2017-04-22'\r\n},\r\n{\r\n  title: '库存：99，价格：5999',\r\n  start: '2017-04-23'\r\n},\r\n{\r\n  title: '库存：99，价格：5999',\r\n  start: '2017-04-24'\r\n},\r\n{\r\n  title: '库存：99，价格：5999',\r\n  start: '2017-04-25'\r\n},\r\n{\r\n  title: '库存：99，价格：5999',\r\n  start: '2017-04-26'\r\n},\r\n{\r\n  title: '库存：99，价格：5999',\r\n  start: '2017-04-27'\r\n},\r\n{\r\n  title: '库存：99，价格：5999',\r\n  start: '2017-04-28'\r\n}\r\n]\r\nexport default {\r\n  data () {\r\n    return {\r\n      fcEvents: demoEvents,\r\n      dialogFormVisible: false,\r\n      labelPosition: 'right',\r\n      skuForm: {\r\n        date: '',\r\n        price: '',\r\n        stock: '',\r\n        type: '',\r\n        stockNum: ''\r\n      },\r\n      selectedEvent: {}\r\n    }\r\n  },\r\n  methods: {\r\n    dayClick (date, jsEvent) {\r\n      // if (date - new Date() < 0) {\r\n      //   this.$message({\r\n      //     type: 'warning',\r\n      //     message: '选中时间已过期！'\r\n      //   })\r\n      //   return false\r\n      // }\r\n      this.skuForm.date = this.formatDate(date)\r\n      this.dialogFormVisible = true\r\n    },\r\n    eventClick (event, jsEvent) {\r\n      this.selectedEvent = event\r\n      let stock = event.title.split('，')[0].split('：')[1] * 1\r\n      let price = event.title.split('，')[1].split('：')[1] * 1\r\n      this.skuForm.date = event.start\r\n      this.skuForm.price = price\r\n      this.skuForm.stock = stock\r\n      this.dialogFormVisible = true\r\n    },\r\n    submitForm (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          console.log(this.skuForm)\r\n          this.saveSku(this.skuForm)\r\n          this.dialogFormVisible = false\r\n          this.$refs[formName].resetFields()\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    resetForm (formName) {\r\n      this.dialogFormVisible = false\r\n      this.$refs[formName].resetFields()\r\n      this.$message({\r\n        type: 'info',\r\n        message: '取消操作'\r\n      })\r\n    },\r\n    saveSku (formObj) {\r\n      if (formObj.type === '出库') {\r\n        if (this.skuForm.stock - formObj.stockNum >= 0) {\r\n          this.skuForm.stock = this.skuForm.stock - formObj.stockNum\r\n          this.selectedEvent.title = '库存：' + this.skuForm.stock + '，价格：5999'\r\n        } else {\r\n          this.$message({\r\n            type: 'warning',\r\n            message: '出库数量不能超过原有库存！'\r\n          })\r\n          return false\r\n        }\r\n      } else if (formObj.type === '入库') {\r\n        this.skuForm.stock = this.skuForm.stock + formObj.stockNum\r\n        this.selectedEvent.title = '库存：' + this.skuForm.stock + '，价格：5999'\r\n      } else {\r\n        return false\r\n      }\r\n      this.$message({\r\n        type: 'success',\r\n        message: '设置成功！'\r\n      })\r\n    },\r\n    formatDate (time) {\r\n      var date = new Date(time)\r\n      return formatDate(date, 'yyyy-MM-dd')\r\n    },\r\n    back () {\r\n      history.go(-1)\r\n    }\r\n  },\r\n  filters: {\r\n    formatDate (time) {\r\n      var date = new Date(time)\r\n      return formatDate(date, 'yyyy-MM-dd')\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n  .comp-full-calendar {\r\n    max-width: 100%;\r\n  }\r\n  .clearfix {\r\n    margin-bottom: 15px\r\n  }\r\n  .full-calendar-header .header-center span{\r\n    font-family: sans-serif;\r\n    font-size: 20px;\r\n    font-weight: bold\r\n  }\r\n  .full-calendar-body .weeks {\r\n    height: 30px;\r\n    line-height: 30px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// stockManage.vue?9dfa2168","exports = module.exports = require(\"../../../node_modules/.0.26.4@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".comp-full-calendar{max-width:100%}.clearfix{margin-bottom:15px}.full-calendar-header .header-center span{font-family:sans-serif;font-size:20px;font-weight:700}.full-calendar-body .weeks{height:30px;line-height:30px}\", \"\", {\"version\":3,\"sources\":[\"D:/vue/vue-demo/src/pages/supplier/stockManage.vue\"],\"names\":[],\"mappings\":\"AACA,oBACE,cAAgB,CACjB,AACD,UACE,kBAAmB,CACpB,AACD,0CACE,uBAAwB,AACxB,eAAgB,AAChB,eAAiB,CAClB,AACD,2BACE,YAAa,AACb,gBAAiB,CAClB\",\"file\":\"stockManage.vue\",\"sourcesContent\":[\"\\n.comp-full-calendar {\\n  max-width: 100%;\\n}\\n.clearfix {\\n  margin-bottom: 15px\\n}\\n.full-calendar-header .header-center span{\\n  font-family: sans-serif;\\n  font-size: 20px;\\n  font-weight: bold\\n}\\n.full-calendar-body .weeks {\\n  height: 30px;\\n  line-height: 30px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-3023b115\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/supplier/stockManage.vue\n// module id = 446\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"clearfix\"\n  }, [_c('el-button', {\n    staticClass: \"pull-right\",\n    attrs: {\n      \"plain\": true,\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.back\n    }\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('fullcalendar', {\n    attrs: {\n      \"events\": _vm.fcEvents,\n      \"lang\": \"zh\"\n    },\n    on: {\n      \"dayClick\": _vm.dayClick,\n      \"eventClick\": _vm.eventClick\n    }\n  }), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"设置库存\"\n    },\n    model: {\n      value: (_vm.dialogFormVisible),\n      callback: function($$v) {\n        _vm.dialogFormVisible = $$v\n      },\n      expression: \"dialogFormVisible\"\n    }\n  }, [_c('el-form', {\n    ref: \"skuForm\",\n    attrs: {\n      \"label-position\": _vm.labelPosition,\n      \"model\": _vm.skuForm,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"日期\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"disabled\": \"\"\n    },\n    model: {\n      value: (_vm.skuForm.date),\n      callback: function($$v) {\n        _vm.skuForm.date = $$v\n      },\n      expression: \"skuForm.date\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"价格\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"输入价格\",\n      \"disabled\": \"\"\n    },\n    model: {\n      value: (_vm.skuForm.price),\n      callback: function($$v) {\n        _vm.skuForm.price = _vm._n($$v)\n      },\n      expression: \"skuForm.price\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"原有库存\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"输入库存\",\n      \"disabled\": \"\"\n    },\n    model: {\n      value: (_vm.skuForm.stock),\n      callback: function($$v) {\n        _vm.skuForm.stock = _vm._n($$v)\n      },\n      expression: \"skuForm.stock\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"操作类型\",\n      \"prop\": \"type\",\n      \"rules\": [{\n        required: true,\n        message: '操作类型不能为空'\n      }]\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.skuForm.type),\n      callback: function($$v) {\n        _vm.skuForm.type = $$v\n      },\n      expression: \"skuForm.type\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"出库\"\n    }\n  }), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": \"入库\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"数量\",\n      \"prop\": \"stockNum\",\n      \"rules\": [{\n          required: true,\n          message: '数量不能为空'\n        },\n        {\n          type: 'number',\n          message: '数量必须为数字值'\n        }\n      ]\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"placeholder\": \"输入数量\"\n    },\n    model: {\n      value: (_vm.skuForm.stockNum),\n      callback: function($$v) {\n        _vm.skuForm.stockNum = _vm._n($$v)\n      },\n      expression: \"skuForm.stockNum\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('skuForm')\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('skuForm')\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-3023b115\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/pages/supplier/stockManage.vue\n// module id = 455\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.26.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-3023b115\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./stockManage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"b2e8e68c\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!D:/Vue/vue-demo/~/.2.0.5@vue-style-loader!D:/Vue/vue-demo/~/.0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-3023b115\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/supplier/stockManage.vue\n// module id = 464\n// module chunks = 3"],"sourceRoot":""}