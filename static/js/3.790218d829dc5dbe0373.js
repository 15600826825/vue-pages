webpackJsonp([3],{433:function(e,t,s){s(464);var o=s(51)(s(441),s(455),null,null);e.exports=o.exports},441:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(104),i=[{title:"库存：100，价格：5888",start:"2017-04-22"},{title:"库存：99，价格：5999",start:"2017-04-23"},{title:"库存：99，价格：5999",start:"2017-04-24"},{title:"库存：99，价格：5999",start:"2017-04-25"},{title:"库存：99，价格：5999",start:"2017-04-26"},{title:"库存：99，价格：5999",start:"2017-04-27"},{title:"库存：99，价格：5999",start:"2017-04-28"}];t.default={data:function(){return{fcEvents:i,dialogFormVisible:!1,labelPosition:"right",skuForm:{date:"",price:"",stock:"",type:"",stockNum:""},selectedEvent:{}}},methods:{dayClick:function(e,t){this.skuForm.date=this.formatDate(e),this.dialogFormVisible=!0},eventClick:function(e,t){this.selectedEvent=e;var s=1*e.title.split("，")[0].split("：")[1],o=1*e.title.split("，")[1].split("：")[1];this.skuForm.date=e.start,this.skuForm.price=o,this.skuForm.stock=s,this.dialogFormVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(s){if(!s)return!1;console.log(t.skuForm),t.saveSku(t.skuForm),t.dialogFormVisible=!1,t.$refs[e].resetFields()})},resetForm:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields(),this.$message({type:"info",message:"取消操作"})},saveSku:function(e){if("出库"===e.type){if(!(this.skuForm.stock-e.stockNum>=0))return this.$message({type:"warning",message:"出库数量不能超过原有库存！"}),!1;this.skuForm.stock=this.skuForm.stock-e.stockNum,this.selectedEvent.title="库存："+this.skuForm.stock+"，价格：5999"}else{if("入库"!==e.type)return!1;this.skuForm.stock=this.skuForm.stock+e.stockNum,this.selectedEvent.title="库存："+this.skuForm.stock+"，价格：5999"}this.$message({type:"success",message:"设置成功！"})},formatDate:function(e){var t=new Date(e);return s.i(o.a)(t,"yyyy-MM-dd")},back:function(){history.go(-1)}},filters:{formatDate:function(e){var t=new Date(e);return s.i(o.a)(t,"yyyy-MM-dd")}}}},446:function(e,t,s){t=e.exports=s(426)(),t.push([e.i,".comp-full-calendar{max-width:100%}.clearfix{margin-bottom:15px}.full-calendar-header .header-center span{font-family:sans-serif;font-size:20px;font-weight:700}.full-calendar-body .weeks{height:30px;line-height:30px}","",{version:3,sources:["D:/vue/vue-demo/src/pages/supplier/stockManage.vue"],names:[],mappings:"AACA,oBACE,cAAgB,CACjB,AACD,UACE,kBAAmB,CACpB,AACD,0CACE,uBAAwB,AACxB,eAAgB,AAChB,eAAiB,CAClB,AACD,2BACE,YAAa,AACb,gBAAiB,CAClB",file:"stockManage.vue",sourcesContent:["\n.comp-full-calendar {\n  max-width: 100%;\n}\n.clearfix {\n  margin-bottom: 15px\n}\n.full-calendar-header .header-center span{\n  font-family: sans-serif;\n  font-size: 20px;\n  font-weight: bold\n}\n.full-calendar-body .weeks {\n  height: 30px;\n  line-height: 30px\n}\n"],sourceRoot:""}])},455:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"clearfix"},[s("el-button",{staticClass:"pull-right",attrs:{plain:!0,type:"info"},on:{click:e.back}},[e._v("返回")])],1),e._v(" "),s("fullcalendar",{attrs:{events:e.fcEvents,lang:"zh"},on:{dayClick:e.dayClick,eventClick:e.eventClick}}),e._v(" "),s("el-dialog",{attrs:{title:"设置库存"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[s("el-form",{ref:"skuForm",attrs:{"label-position":e.labelPosition,model:e.skuForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"日期"}},[s("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.skuForm.date,callback:function(t){e.skuForm.date=t},expression:"skuForm.date"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"价格"}},[s("el-input",{attrs:{"auto-complete":"off",placeholder:"输入价格",disabled:""},model:{value:e.skuForm.price,callback:function(t){e.skuForm.price=e._n(t)},expression:"skuForm.price"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"原有库存"}},[s("el-input",{attrs:{"auto-complete":"off",placeholder:"输入库存",disabled:""},model:{value:e.skuForm.stock,callback:function(t){e.skuForm.stock=e._n(t)},expression:"skuForm.stock"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"操作类型",prop:"type",rules:[{required:!0,message:"操作类型不能为空"}]}},[s("el-radio-group",{model:{value:e.skuForm.type,callback:function(t){e.skuForm.type=t},expression:"skuForm.type"}},[s("el-radio",{attrs:{label:"出库"}}),e._v(" "),s("el-radio",{attrs:{label:"入库"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"数量",prop:"stockNum",rules:[{required:!0,message:"数量不能为空"},{type:"number",message:"数量必须为数字值"}]}},[s("el-input",{attrs:{"auto-complete":"off",placeholder:"输入数量"},model:{value:e.skuForm.stockNum,callback:function(t){e.skuForm.stockNum=e._n(t)},expression:"skuForm.stockNum"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",slot:"footer"},[s("el-button",{on:{click:function(t){e.resetForm("skuForm")}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("skuForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},464:function(e,t,s){var o=s(446);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s(427)("b2e8e68c",o,!0)}});
//# sourceMappingURL=3.790218d829dc5dbe0373.js.map